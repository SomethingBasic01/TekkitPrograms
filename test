-- Function to transfer items from the dispenser to the chest on the network
local function transferItemsFromDispenserToChest()
    -- Wrap the dispenser connected to the bottom of the turtle
    local dispenser = peripheral.wrap("bottom")

    -- Wrap the chest connected via modem on the network
    local targetChest = peripheral.wrap("minecraft:chest_15")

    if targetChest then
        print("Chest found: minecraft:chest_15")
        
        -- Attempt to push items from the dispenser to the chest
        local items = dispenser.list()
        for slot, item in pairs(items) do
            local success = dispenser.pushItems(peripheral.getName(targetChest), slot)
            if success > 0 then
                print("Successfully transferred " .. success .. " items to " .. peripheral.getName(targetChest))
            else
                print("Failed to transfer items from slot " .. slot)
            end
        end
    else
        print("No chest found on the network.")
    end
end

-- Run the transfer function
transferItemsFromDispenserToChest()
